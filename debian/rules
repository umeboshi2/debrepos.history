#!/usr/bin/make -f
DEB_PYTHON_SYSTEM=pysupport

include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/class/python-distutils.mk

prefix=$(CURDIR)/debian/$(cdbs_curpkg)/usr

install/debrepos-common::
	echo "Building debrepos-common"
	python setup.py common install --prefix=$(prefix)
	rm -r build/

install/debrepos-microsoft::
	echo "Building debrepos-microsoft"
	python setup.py microsoft install --prefix=$(prefix)
	rm -r build/

install/debrepos-server::
	echo "Building debrepos-server"
	python setup.py server install --prefix=$(prefix)
	rm -r build/

install/debrepos-client::
	echo "Building debrepos-client"
	python setup.py client install --prefix=$(prefix)
	rm -r build/


clean::
	dh_clean `find -path *.pyc`
	dh_clean `find -path *~`
	dh_clean configure-stamp
	dh_clean build-docs-stamp


# Add here any variable or target overrides you need.
